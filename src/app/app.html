<div class="weather-app">
  <div class="dynamic-bg-overlay"></div>

  <div class="content-wrapper">
    <nav class="search-nav">
      <div class="glass-search-box">
        <i class="search-icon">ğŸ”</i>
        <input 
          type="text" 
          [(ngModel)]="city" 
          placeholder="Search city or village (e.g. Siwan, 841226)..." 
          (keyup.enter)="getWeatherByLocation()" 
        />
        <div class="action-btns">
          <button class="icon-btn" (click)="startListening()">ğŸ¤</button>
          <button class="icon-btn" (click)="getCurrentLocationWeather()">ğŸ“</button>
        </div>
      </div>
    </nav>

    <main class="main-display" *ngIf="weather">
      <div class="header-info">
        <h1 class="city-name">{{ weather.name }}</h1>
        <p class="country-name">{{ weather.sys.country }}</p>
        <p class="current-time">{{ currentTime }}</p>
      </div>

      <div class="hero-temp-section">
        <div class="temp-main">
          <img 
            [src]="weather.weather[0].icon" 
            alt="weather icon"
            class="main-weather-icon"
          />
          <div class="temp-numbers">
            <h2 class="degree-text">{{ weather.main.temp | number:'1.0-0' }}Â°</h2>
            <p class="weather-desc">{{ weather.weather[0].description }}</p>
          </div>
        </div>
      </div>

      <div class="details-grid-container">
        <div class="detail-glass-card">
          <span class="card-emoji">ğŸ’§</span>
          <div class="card-text">
            <p class="label">Humidity</p>
            <h3 class="value">{{ weather.main.humidity }}%</h3>
          </div>
        </div>
        <div class="detail-glass-card">
          <span class="card-emoji">ğŸŒ¬ï¸</span>
          <div class="card-text">
            <p class="label">Wind Speed</p>
            <h3 class="value">{{ weather.wind.speed }} km/h</h3>
          </div>
        </div>
        <div class="detail-glass-card">
          <span class="card-emoji">ğŸ“Š</span>
          <div class="card-text">
            <p class="label">Pressure</p>
            <h3 class="value">{{ weather.main.pressure }} hPa</h3>
          </div>
        </div>
        <div class="detail-glass-card">
          <span class="card-emoji">â˜ï¸</span>
          <div class="card-text">
            <p class="label">Cloudiness</p>
            <h3 class="value">{{ weather.clouds.all }}%</h3>
          </div>
        </div>
      </div>

      <section class="forecast-section" *ngIf="weeklyForecast && weeklyForecast.length">
        <h4 class="forecast-title">7-Day Forecast (Villages Included)</h4>
        <div class="forecast-row">
          <div class="forecast-mini-card" *ngFor="let day of weeklyForecast">
            <span class="day-name">{{ day.dt * 1000 | date:'EEE' }}</span>
            <img [src]="day.weather[0].icon" />
            <span class="day-temp">{{ day.temp.day | number:'1.0-0' }}Â°</span>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>